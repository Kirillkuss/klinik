2024-07-11 15:13:02,049 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.4.Final
2024-07-11 15:13:02,057 INFO org.springframework.boot.StartupInfoLogger [main] Starting KlinikApplication using Java 17.0.2 on pc-barysevich with PID 20324 (D:\Project\dev\klinik\target\classes started by barysevich_k in D:\Project\dev\klinik)
2024-07-11 15:13:02,058 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-11 15:13:02,926 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-11 15:13:03,014 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 78 ms. Found 11 JPA repository interfaces.
2024-07-11 15:13:03,682 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2024-07-11 15:13:03,693 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2024-07-11 15:13:03,694 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2024-07-11 15:13:03,695 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2024-07-11 15:13:03,825 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-07-11 15:13:03,826 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1714 ms
2024-07-11 15:13:03,980 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-11 15:13:04,156 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-11 15:13:04,210 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-11 15:13:04,261 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2024-07-11 15:13:04,418 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-07-11 15:13:04,542 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2024-07-11 15:13:05,219 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-11 15:13:05,230 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-11 15:13:06,105 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b78a946, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c762aa, org.springframework.security.web.context.SecurityContextPersistenceFilter@34f32575, org.springframework.security.web.header.HeaderWriterFilter@6802c10e, org.springframework.security.web.csrf.CsrfFilter@612531a3, org.springframework.security.web.authentication.logout.LogoutFilter@2d399e88, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@34cb1310, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2b5a04b0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50d91a0f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4c438f66, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@7ac47f14, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c013560, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11ad327f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13087c75, org.springframework.security.web.session.SessionManagementFilter@29693b1d, org.springframework.security.web.access.ExceptionTranslationFilter@626ff077, org.springframework.security.web.access.intercept.AuthorizationFilter@7402bfe7]
2024-07-11 15:13:07,289 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2024-07-11 15:13:07,313 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8082 (http) with context path ''
2024-07-11 15:13:07,323 INFO org.springframework.boot.StartupInfoLogger [main] Started KlinikApplication in 5.764 seconds (JVM running for 6.152)
2024-07-11 15:13:07,326 INFO com.klinik.KlinikApplication [main]  Klinika start success 
2024-07-11 15:13:13,323 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8082-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-11 15:13:13,324 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8082-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-11 15:13:13,326 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8082-exec-1] Completed initialization in 1 ms
2024-07-11 15:13:20,145 INFO org.springdoc.api.AbstractOpenApiResource [http-nio-8082-exec-3] Init duration for springdoc-openapi is: 517 ms
2024-07-11 15:25:24,629 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.4.Final
2024-07-11 15:25:24,634 INFO org.springframework.boot.StartupInfoLogger [main] Starting KlinikApplication using Java 17.0.2 on pc-barysevich with PID 8444 (D:\Project\dev\klinik\target\classes started by barysevich_k in D:\Project\dev\klinik)
2024-07-11 15:25:24,636 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-11 15:25:25,524 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-11 15:25:25,605 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 69 ms. Found 11 JPA repository interfaces.
2024-07-11 15:25:26,264 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2024-07-11 15:25:26,278 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2024-07-11 15:25:26,279 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2024-07-11 15:25:26,280 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2024-07-11 15:25:26,402 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-07-11 15:25:26,403 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1707 ms
2024-07-11 15:25:26,443 ERROR org.springframework.boot.web.embedded.tomcat.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityConfiguration' defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\SecurityConfiguration.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'keycloakLogoutHandler' defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\KeycloakLogoutHandler.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'securityConfiguration': Requested bean is currently in creation: Is there an unresolvable circular reference?
2024-07-11 15:25:26,469 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2024-07-11 15:25:26,477 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2024-07-11 15:25:26,490 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-07-11 15:25:26,512 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

???????
|  securityConfiguration defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\SecurityConfiguration.class]
?     ?
|  keycloakLogoutHandler defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\KeycloakLogoutHandler.class]
???????


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2024-07-11 15:25:35,658 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.4.Final
2024-07-11 15:25:35,674 INFO org.springframework.boot.StartupInfoLogger [main] Starting KlinikApplication using Java 17.0.2 on pc-barysevich with PID 22612 (D:\Project\dev\klinik\target\classes started by barysevich_k in D:\Project\dev\klinik)
2024-07-11 15:25:35,677 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-11 15:25:36,543 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-11 15:25:36,619 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 67 ms. Found 11 JPA repository interfaces.
2024-07-11 15:25:37,265 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2024-07-11 15:25:37,275 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2024-07-11 15:25:37,276 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2024-07-11 15:25:37,288 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2024-07-11 15:25:37,414 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-07-11 15:25:37,414 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1677 ms
2024-07-11 15:25:37,445 ERROR org.springframework.boot.web.embedded.tomcat.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityConfiguration' defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\SecurityConfiguration.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'keycloakLogoutHandler' defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\KeycloakLogoutHandler.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'securityConfiguration': Requested bean is currently in creation: Is there an unresolvable circular reference?
2024-07-11 15:25:37,468 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2024-07-11 15:25:37,477 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2024-07-11 15:25:37,494 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-07-11 15:25:37,512 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

???????
|  securityConfiguration defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\SecurityConfiguration.class]
?     ?
|  keycloakLogoutHandler defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\KeycloakLogoutHandler.class]
???????


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2024-07-11 15:26:17,980 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.4.Final
2024-07-11 15:26:18,020 INFO org.springframework.boot.StartupInfoLogger [main] Starting KlinikApplication using Java 17.0.2 on pc-barysevich with PID 24288 (D:\Project\dev\klinik\target\classes started by barysevich_k in D:\Project\dev\klinik)
2024-07-11 15:26:18,022 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-11 15:26:18,774 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-11 15:26:18,852 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 69 ms. Found 11 JPA repository interfaces.
2024-07-11 15:26:19,472 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2024-07-11 15:26:19,483 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2024-07-11 15:26:19,484 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2024-07-11 15:26:19,484 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2024-07-11 15:26:19,603 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-07-11 15:26:19,603 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1523 ms
2024-07-11 15:26:19,632 ERROR org.springframework.boot.web.embedded.tomcat.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityConfiguration' defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\SecurityConfiguration.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'keycloakLogoutHandler' defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\KeycloakLogoutHandler.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'securityConfiguration': Requested bean is currently in creation: Is there an unresolvable circular reference?
2024-07-11 15:26:19,656 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2024-07-11 15:26:19,664 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2024-07-11 15:26:19,675 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-07-11 15:26:19,692 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

???????
|  securityConfiguration defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\SecurityConfiguration.class]
?     ?
|  keycloakLogoutHandler defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\KeycloakLogoutHandler.class]
???????


Action:

Despite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.

2024-07-11 15:27:46,511 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.4.Final
2024-07-11 15:27:46,548 INFO org.springframework.boot.StartupInfoLogger [main] Starting KlinikApplication using Java 17.0.2 on pc-barysevich with PID 22860 (D:\Project\dev\klinik\target\classes started by barysevich_k in D:\Project\dev\klinik)
2024-07-11 15:27:46,550 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-11 15:27:47,389 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-11 15:27:47,469 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 69 ms. Found 11 JPA repository interfaces.
2024-07-11 15:27:48,069 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2024-07-11 15:27:48,080 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2024-07-11 15:27:48,081 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2024-07-11 15:27:48,081 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2024-07-11 15:27:48,203 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-07-11 15:27:48,204 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1587 ms
2024-07-11 15:27:48,230 ERROR org.springframework.boot.web.embedded.tomcat.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityConfiguration' defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\SecurityConfiguration.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'keycloakLogoutHandler' defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\KeycloakLogoutHandler.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2024-07-11 15:27:48,253 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2024-07-11 15:27:48,261 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2024-07-11 15:27:48,270 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-07-11 15:27:48,289 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.klinik.security.KeycloakLogoutHandler required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

2024-07-11 15:29:36,975 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.4.Final
2024-07-11 15:29:37,006 INFO org.springframework.boot.StartupInfoLogger [main] Starting KlinikApplication using Java 17.0.2 on pc-barysevich with PID 16316 (D:\Project\dev\klinik\target\classes started by barysevich_k in D:\Project\dev\klinik)
2024-07-11 15:29:37,008 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-11 15:29:37,763 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-11 15:29:37,844 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 71 ms. Found 11 JPA repository interfaces.
2024-07-11 15:29:38,436 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2024-07-11 15:29:38,445 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2024-07-11 15:29:38,445 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2024-07-11 15:29:38,446 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2024-07-11 15:29:38,560 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-07-11 15:29:38,561 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1494 ms
2024-07-11 15:29:38,600 ERROR org.springframework.boot.web.embedded.tomcat.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityConfiguration' defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\SecurityConfiguration.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'keycloakLogoutHandler' defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\KeycloakLogoutHandler.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'securityConfiguration': Requested bean is currently in creation: Is there an unresolvable circular reference?
2024-07-11 15:29:38,621 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2024-07-11 15:29:38,628 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2024-07-11 15:29:38,638 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-07-11 15:29:38,657 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

???????
|  securityConfiguration defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\SecurityConfiguration.class]
?     ?
|  keycloakLogoutHandler defined in file [D:\Project\dev\klinik\target\classes\com\klinik\security\KeycloakLogoutHandler.class]
???????


Action:

Despite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.

2024-07-11 15:30:22,843 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.4.Final
2024-07-11 15:30:22,873 INFO org.springframework.boot.StartupInfoLogger [main] Starting KlinikApplication using Java 17.0.2 on pc-barysevich with PID 6956 (D:\Project\dev\klinik\target\classes started by barysevich_k in D:\Project\dev\klinik)
2024-07-11 15:30:22,875 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-11 15:30:23,694 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-11 15:30:23,781 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 76 ms. Found 11 JPA repository interfaces.
2024-07-11 15:30:24,382 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2024-07-11 15:30:24,393 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2024-07-11 15:30:24,393 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2024-07-11 15:30:24,394 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2024-07-11 15:30:24,524 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-07-11 15:30:24,524 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1591 ms
2024-07-11 15:30:24,672 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-11 15:30:24,859 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-11 15:30:24,914 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-11 15:30:24,961 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2024-07-11 15:30:25,122 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-07-11 15:30:25,237 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2024-07-11 15:30:25,845 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-11 15:30:25,866 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-11 15:30:26,745 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@739be7ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1df2e767, org.springframework.security.web.context.SecurityContextPersistenceFilter@50d91a0f, org.springframework.security.web.header.HeaderWriterFilter@11ad327f, org.springframework.security.web.csrf.CsrfFilter@1f6d3a81, org.springframework.security.web.authentication.logout.LogoutFilter@6a6e410c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2a0881f1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7a85454b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1d126f07, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4d0d568f, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@6a358906, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52b6561b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@445b4594, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c7aba7c, org.springframework.security.web.session.SessionManagementFilter@167f9043, org.springframework.security.web.access.ExceptionTranslationFilter@229fe7ab, org.springframework.security.web.access.intercept.AuthorizationFilter@7ac47f14]
2024-07-11 15:30:27,747 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2024-07-11 15:30:27,770 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8082 (http) with context path ''
2024-07-11 15:30:27,778 INFO org.springframework.boot.StartupInfoLogger [main] Started KlinikApplication in 5.399 seconds (JVM running for 5.772)
2024-07-11 15:30:27,781 INFO com.klinik.KlinikApplication [main]  Klinika start success 
2024-07-11 15:31:15,956 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.4.Final
2024-07-11 15:31:15,987 INFO org.springframework.boot.StartupInfoLogger [main] Starting KlinikApplication using Java 17.0.2 on pc-barysevich with PID 6092 (D:\Project\dev\klinik\target\classes started by barysevich_k in D:\Project\dev\klinik)
2024-07-11 15:31:15,988 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-11 15:31:16,767 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-11 15:31:16,848 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 71 ms. Found 11 JPA repository interfaces.
2024-07-11 15:31:17,461 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2024-07-11 15:31:17,473 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2024-07-11 15:31:17,474 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2024-07-11 15:31:17,474 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2024-07-11 15:31:17,604 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-07-11 15:31:17,605 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1560 ms
2024-07-11 15:31:17,748 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-11 15:31:17,927 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-11 15:31:17,981 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-11 15:31:18,028 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.10.Final
2024-07-11 15:31:18,186 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-07-11 15:31:18,305 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2024-07-11 15:31:18,943 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-11 15:31:18,952 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-11 15:31:19,833 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b37d1a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34114276, org.springframework.security.web.context.SecurityContextPersistenceFilter@8ad182c, org.springframework.security.web.header.HeaderWriterFilter@9863ed5, org.springframework.security.web.csrf.CsrfFilter@7dd2a5f7, org.springframework.security.web.authentication.logout.LogoutFilter@3a225534, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4806fbf7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4280b20b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7a689979, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@73c6ae15, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@1f602930, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@218e186b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b9fc5c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5923210, org.springframework.security.web.session.SessionManagementFilter@7010c9e4, org.springframework.security.web.access.ExceptionTranslationFilter@ff12b53, org.springframework.security.web.access.intercept.AuthorizationFilter@4b808427]
2024-07-11 15:31:21,014 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2024-07-11 15:31:21,036 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8082 (http) with context path ''
2024-07-11 15:31:21,045 INFO org.springframework.boot.StartupInfoLogger [main] Started KlinikApplication in 5.56 seconds (JVM running for 5.932)
2024-07-11 15:31:21,048 INFO com.klinik.KlinikApplication [main]  Klinika start success 
2024-07-11 15:31:30,904 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8082-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-11 15:31:30,905 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8082-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-11 15:31:30,907 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8082-exec-1] Completed initialization in 2 ms
2024-07-11 15:31:40,656 INFO org.springdoc.api.AbstractOpenApiResource [http-nio-8082-exec-2] Init duration for springdoc-openapi is: 476 ms
